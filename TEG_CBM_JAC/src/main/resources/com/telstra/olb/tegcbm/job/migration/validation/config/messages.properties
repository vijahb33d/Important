PDBValidateDAOSpringJdbcImpl.COMPANY_ATTRIBUTES_SQL=select co.ATTRIBUTE_ID AS "KEY", co.VALUE as "VALUE" from PDB_CUSTOMER_VALUES_T co where co.CIDN= ? and co.ATTRIBUTE_ID IN ('company_name', 'ownership_code') order by co.ATTRIBUTE_ID ASC
PDBValidateDAOSpringJdbcImpl.COMPANY_USERS_SQL=select distinct U.ECSID, FN.VALUE as "FIRST NAME", LN.VALUE as "LAST NAME" from PDB_ECS_USER_VALUES_T U inner join ( select FNU.ECSID as ECSID, FNU.VALUE as VALUE from PDB_ECS_USER_VALUES_T FNU where FNU.ATTRIBUTE_ID='firstname') FN on U.ECSID = FN.ECSID inner join ( select LNU.ECSID as ECSID, LNU.VALUE as VALUE from PDB_ECS_USER_VALUES_T LNU where LNU.ATTRIBUTE_ID='lastname') LN on U.ECSID = LN.ECSID where cidn = ?
PDBValidateDAOSpringJdbcImpl.COMPANY_ACCOUNTS_SQL=select distinct ACCOUNT_NUMBER AS "ACCOUNT NUMBER" from PDB_ACCOUNT_VALUES_T where CIDN = ? order by account_number asc
PDBValidateDAOSpringJdbcImpl.COMPANY_SERVICES_SQL=select distinct S.SERVICE_NUMBER as "SERVICE NUMBER" from PDB_SERVICE_VALUES_T S, PDB_ACCOUNT_VALUES_T ACC where S.ATTRIBUTE_ID= 'service_status' and S.VALUE = 'active' and S.ACCOUNT_NUMBER = ACC.ACCOUNT_NUMBER and ACC.CIDN = ? ORDER BY S.SERVICE_NUMBER ASC
PDBValidateDAOSpringJdbcImpl.COMPANY_ACCOUNT_SERVICES_SQL=select distinct S.SERVICE_NUMBER as "SERVICE NUMBER" from PDB_SERVICE_VALUES_T S where S.ATTRIBUTE_ID= 'service_status' and S.VALUE = 'active' and S.ACCOUNT_NUMBER = (select * from(select distinct T.ACCOUNT_NUMBER from PDB_ACCOUNT_VALUES_T T where T.CIDN = ? and T.attribute_id = 'status' and T.VALUE ='active' order by T.ACCOUNT_NUMBER) where rownum =1) ORDER BY S.SERVICE_NUMBER ASC
CBMValidateDAOSpringJdbcImpl.COMPANY_ATTRIBUTES_SQL=select coa.ATTRKEY AS "KEY", coa.ATTRVALUE AS "VALUE" from EDX_BSL_CMF_COMPANYPROFILE co, EDX_BSL_CO_PROF_ATTRIBS coa where co.name = ? and co.ID = coa.ATTRID and coa.ATTRKEY IN ('company_name', 'ownership_code') order by coa.ATTRKEY ASC
CBMValidateDAOSpringJdbcImpl.COMPANY_USERS_SQL=select sp.USERID as "ECSID", up.FIRSTNAME as "FIRST NAME", up.LASTNAME as "LAST NAME" FROM EDX_BSL_AUTH_SECPROFILE sp inner join EDX_BSL_UMF_USER u ON sp.PROFILEID = u.SECURITYPROFILEID inner join EDX_BSL_CMF_COMPANY c ON u.COMPANYID = c.ID inner join EDX_BSL_CMF_COMPANYPROFILE cp ON c.PROFILEID = cp.ID inner join EDX_BSL_UMF_USERPROFILE up ON u.USERPROFILEID = up.PROFILEID WHERE cp.NAME = ? ORDER BY sp.USERID
CBMValidateDAOSpringJdbcImpl.COMPANY_ACCOUNTS_SQL=select hn.linktargetname as "ACCOUNT NUMBER" from edx_hier_hnode hn where hn.hierarchyid = (select TO_CHAR(h.id) from edx_hier_hierarchy h inner join edx_hier_htype ht on h.htype = ht.id where h.companyid = (select TO_CHAR(co.id) from edx_bsl_cmf_company co inner join edx_bsl_cmf_companyprofile cp on co.profileid = TO_CHAR(cp.id) and cp.name = ?) and ht.name='Billing Hierarchy' and h.deletedat=0) and hn.linktargeturi like '%edx:amf:%' and hn.LINKTARGETTYPE = 'ACCOUNT' order by hn.linktargetname ASC
CBMValidateDAOSpringJdbcImpl.COMPANY_SERVICES_SQL=select hn.linktargetname as "SERVICE NUMBER" from edx_hier_hnode hn where hn.hierarchyid = (select TO_CHAR(h.id) from edx_hier_hierarchy h inner join edx_hier_htype ht on h.htype = ht.id where h.companyid = (select TO_CHAR(co.id) from edx_bsl_cmf_company co inner join edx_bsl_cmf_companyprofile cp on co.profileid = TO_CHAR(cp.id) and cp.name = ?) and ht.name='Billing Hierarchy' and h.deletedat=0) and hn.linktargeturi like '%edx:amf:%' and hn.LINKTARGETTYPE = 'MTN' order by hn.linktargetname ASC
CBMValidateDAOSpringJdbcImpl.COMPANY_ACCOUNT_SERVICES_SQL=select ehhn.linktargetname as "SERVICE NUMBER" from edx_hier_hnode ehhn where ehhn.parentid = (select hhn.nodeid from edx_hier_hnode hhn where linktargetname = (select * from (select hn.linktargetname from edx_hier_hnode hn, EDX_BSL_AMF_BACCOUNT b, EDX_BSL_ACCT_ATTRIBS ba where hn.hierarchyid = (select TO_CHAR(h.id) from edx_hier_hierarchy h inner join edx_hier_htype ht on h.htype = ht.id where h.companyid = (select TO_CHAR(co.id) from edx_bsl_cmf_company co inner join edx_bsl_cmf_companyprofile cp on co.profileid = TO_CHAR(cp.id) and cp.name = ?) and ht.name='Billing Hierarchy' and h.deletedat=0) and hn.linktargetname=b.name and b.nodeid = ba.attrid and ba.attrkey = 'status' and ba.attrvalue = 'active' and hn.linktargeturi like '%edx:amf:%' and hn.LINKTARGETTYPE = 'ACCOUNT' order by hn.linktargetname) where rownum = 1) and hhn.linktargettype='com.edocs.common.hierarchy.api.IHierarchyFolder' and hhn.deletedat=0) and ehhn.LINKTARGETTYPE = 'MTN' order by ehhn.linktargetname asc